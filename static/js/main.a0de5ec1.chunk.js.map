{"version":3,"sources":["utils/omdbapi.js","components/SearchForm/SearchForm.jsx","components/AboutFilm/AboutFilm.jsx","components/Film/Film.jsx","components/PageList/PageList.jsx","components/ResultList/ResultList.jsx","components/App/App.jsx","index.js"],"names":["omdbapi","baseUrl","apiKey","this","_baseUrl","_apiKey","res","ok","json","Promise","reject","status","searchRequest","page","fetch","then","_checkResponse","imdbID","SearchForm","handleSearchSubmit","setRequest","React","useState","value","setValue","name","className","onSubmit","e","preventDefault","type","onChange","currentTarget","id","required","minLength","maxLength","placeholder","AboutFilm","about","Actors","Plot","Awards","BoxOffice","Country","Director","Genre","Language","Writer","Film","film","handleClick","isGettingInfo","setIsGettingInfo","setAbout","useEffect","data","catch","err","console","log","src","Poster","alt","Title","Year","Type","onClick","getAboutFilm","PageList","setPage","request","lastPage","currentPage","parseInt","target","innerHTML","ResultList","results","map","index","App","setResults","setLastPage","isLoading","setIsLoading","getFilmsByTitle","Response","Search","Math","ceil","totalResults","length","getInfoAboutFilm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a0de5ec1.chunk.js","sourcesContent":["class OmdbApi {\r\n  constructor({ baseUrl, apiKey }) {\r\n    this._baseUrl = baseUrl;\r\n    this._apiKey = apiKey;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getFilmsByTitle(searchRequest, page = 1) {\r\n    return fetch(\r\n      `${this._baseUrl}?apikey=${this._apiKey}&s=${searchRequest}&page=${page}`\r\n    ).then(this._checkResponse);\r\n  }\r\n\r\n  getInfoAboutFilm(imdbID) {\r\n    return fetch(`${this._baseUrl}?apikey=${this._apiKey}&i=${imdbID}`).then(\r\n      this._checkResponse\r\n    );\r\n  }\r\n}\r\n\r\nconst options = { baseUrl: `https://www.omdbapi.com/`, apiKey: `850772fe` };\r\n\r\nexport const omdbapi = new OmdbApi(options);\r\n","import React from \"react\";\r\nimport \"./SearchForm.css\";\r\n\r\nfunction SearchForm({ handleSearchSubmit, setRequest }) {\r\n  const [value, setValue] = React.useState(\"\");\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleSearchSubmit(value);\r\n    setRequest(value);\r\n  };\r\n\r\n  return (\r\n    <form name=\"SearchForm\" className=\"search-form\" onSubmit={onSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={(e) => setValue(e.currentTarget.value)}\r\n        name=\"searchInput\"\r\n        id=\"searchInput\"\r\n        className=\"search-form__input\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        placeholder=\"Добавь название фильма\"\r\n      />\r\n      <button type=\"submit\" className=\"search-form__button\">\r\n        Search\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\nimport \"./AboutFilm.css\";\r\n\r\nfunction AboutFilm({ about }) {\r\n  return (\r\n    <>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">Actors: </span>\r\n        {about.Actors}\r\n      </p>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">Plot: </span>\r\n        {about.Plot}\r\n      </p>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">Awards: </span>\r\n        {about.Awards}\r\n      </p>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">BoxOffice: </span>\r\n        {about.BoxOffice}\r\n      </p>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">Country: </span>\r\n        {about.Country}\r\n      </p>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">Director: </span>\r\n        {about.Director}\r\n      </p>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">Genre: </span>\r\n        {about.Genre}\r\n      </p>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">Language: </span>\r\n        {about.Language}\r\n      </p>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">Writer: </span>\r\n        {about.Writer}\r\n      </p>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AboutFilm;\r\n","import React from \"react\";\r\nimport AboutFilm from \"../AboutFilm/AboutFilm\";\r\nimport \"./Film.css\";\r\n\r\nfunction Film({ film, handleClick }) {\r\n  const [isGettingInfo, setIsGettingInfo] = React.useState(false);\r\n  const [about, setAbout] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    if (isGettingInfo)\r\n      handleClick(film.imdbID)\r\n        .then((data) => {\r\n          setAbout(data);\r\n        })\r\n        .catch((err) => console.log(\"Err: \" + err));\r\n    else setAbout(null);\r\n  }, [isGettingInfo, film.imdbID, handleClick]);\r\n\r\n  function onClick(e) {\r\n    e.preventDefault();\r\n    setIsGettingInfo(!isGettingInfo);\r\n  }\r\n\r\n  function getAboutFilm() {\r\n    if (about) return <AboutFilm handleClick={handleClick} about={about} />;\r\n  }\r\n  return (\r\n    <>\r\n      <img\r\n        className=\"film_image\"\r\n        src={film.Poster}\r\n        alt={`Poster ${film.Title}`}\r\n      />\r\n      <h2 className=\"film__title\">{film.Title}</h2>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">Year: </span>\r\n        {film.Year}\r\n      </p>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">Type: </span>\r\n        {film.Type}\r\n      </p>\r\n      <p className=\"film__desc\">\r\n        <span className=\"film__subtitle\">imdbID: </span>\r\n        {film.imdbID}\r\n      </p>\r\n      <button className=\"film__button\" onClick={onClick}>\r\n        Подробнее\r\n      </button>\r\n      {getAboutFilm()}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Film;\r\n","import \"./PageList.css\";\r\n\r\nfunction PageList({ setPage, page, handleSearchSubmit, request, lastPage }) {\r\n  function onClick(e) {\r\n    const currentPage = parseInt(e.target.innerHTML);\r\n    setPage(currentPage);\r\n    handleSearchSubmit(request, currentPage);\r\n  }\r\n  return (\r\n    <>\r\n      <ul className=\"page-list\">\r\n        {page > 1 && (\r\n          <li onClick={onClick} className=\"page-item\">\r\n            {1}\r\n          </li>\r\n        )}\r\n        {page - 10 > 1 && (\r\n          <li onClick={onClick} className=\"page-item\">\r\n            {page - 10}\r\n          </li>\r\n        )}\r\n        {page - 1 > 1 && (\r\n          <li onClick={onClick} className=\"page-item\">\r\n            {page - 1}\r\n          </li>\r\n        )}\r\n        <li className=\"page-item\">{page}</li>\r\n        {page + 1 < lastPage - 1 && (\r\n          <li onClick={onClick} className=\"page-item\">\r\n            {page + 1}\r\n          </li>\r\n        )}\r\n        {page + 10 < lastPage - 1 && (\r\n          <li onClick={onClick} className=\"page-item\">\r\n            {page + 10}\r\n          </li>\r\n        )}\r\n        {page < lastPage && (\r\n          <li onClick={onClick} className=\"page-item\">\r\n            {lastPage}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PageList;\r\n","import Film from \"../Film/Film\";\r\nimport PageList from \"../PageList/PageList\";\r\nimport \"./ResultList.css\";\r\n\r\nfunction ResultList({\r\n  results,\r\n  handleClick,\r\n  setPage,\r\n  page,\r\n  handleSearchSubmit,\r\n  request,\r\n  lastPage,\r\n}) {\r\n  return (\r\n    <>\r\n      <div className=\"result-container\">\r\n        {page > 1 && (\r\n          <button\r\n            className=\"result-container__button\"\r\n            onClick={() => {\r\n              if (page > 1) {\r\n                handleSearchSubmit(request, page - 1);\r\n                setPage(page - 1);\r\n              }\r\n            }}\r\n          >\r\n            &#8592;\r\n          </button>\r\n        )}\r\n\r\n        <ul className=\"results\">\r\n          {results.map((film, index) => (\r\n            <li key={index} className=\"film-container\">\r\n              <Film film={film} handleClick={handleClick} />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        {lastPage > page && request !== \"\" && (\r\n          <button\r\n            className=\"result-container__button\"\r\n            onClick={() => {\r\n              if (lastPage > page) {\r\n                handleSearchSubmit(request, page + 1);\r\n                setPage(page + 1);\r\n              }\r\n            }}\r\n          >\r\n            &#8594;\r\n          </button>\r\n        )}\r\n      </div>\r\n      <PageList\r\n        setPage={setPage}\r\n        page={page}\r\n        handleSearchSubmit={handleSearchSubmit}\r\n        request={request}\r\n        lastPage={lastPage}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResultList;\r\n","import \"./App.css\";\r\nimport { omdbapi } from \"../../utils/omdbapi\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport ResultList from \"../ResultList/ResultList\";\r\nimport React, { useEffect } from \"react\";\r\n\r\nfunction App() {\r\n  const [results, setResults] = React.useState([]);\r\n  const [request, setRequest] = React.useState(\"\");\r\n  const [page, setPage] = React.useState(1);\r\n  const [lastPage, setLastPage] = React.useState(0);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const handleSearchSubmit = (request, page) => {\r\n    omdbapi\r\n      .getFilmsByTitle(request, page)\r\n      .then((data) => {\r\n        if (data.Response) {\r\n          setResults(data.Search);\r\n          setLastPage(Math.ceil(data.totalResults / 10));\r\n          setIsLoading(true);\r\n        }\r\n      })\r\n      .catch((err) => console.log(\"Error: \" + err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isLoading) setIsLoading(false);\r\n  }, [isLoading]);\r\n\r\n  const handleClick = (imdbID) => {\r\n    return omdbapi.getInfoAboutFilm(imdbID);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <SearchForm\r\n        handleSearchSubmit={handleSearchSubmit}\r\n        setRequest={setRequest}\r\n      />\r\n      {!isLoading && results && results.length > 0 && (\r\n        <>\r\n          <ResultList\r\n            results={results}\r\n            setPage={setPage}\r\n            page={page}\r\n            lastPage={lastPage}\r\n            request={request}\r\n            handleClick={handleClick}\r\n            handleSearchSubmit={handleSearchSubmit}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App/App.jsx\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}