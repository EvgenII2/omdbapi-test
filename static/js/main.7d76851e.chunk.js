(this["webpackJsonpomdbapi-test"]=this["webpackJsonpomdbapi-test"]||[]).push([[0],[,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(4),i=c.n(n),l=(c(11),c(2)),r=(c(12),c(5)),u=c(6),j=new(function(){function e(t){var c=t.baseUrl,s=t.apiKey;Object(r.a)(this,e),this._baseUrl=c,this._apiKey=s}return Object(u.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getFilmsByTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(this._baseUrl,"?apikey=").concat(this._apiKey,"&s=").concat(e,"&page=").concat(t)).then(this._checkResponse)}},{key:"getInfoAboutFilm",value:function(e){return fetch("".concat(this._baseUrl,"?apikey=").concat(this._apiKey,"&i=").concat(e)).then(this._checkResponse)}}]),e}())({baseUrl:"https://www.omdbapi.com/",apiKey:"850772fe"}),m=(c(13),c(0));var o=function(e){var t=e.handleSearchSubmit,c=e.setRequest,s=a.a.useState(""),n=Object(l.a)(s,2),i=n[0],r=n[1];return Object(m.jsxs)("form",{name:"SearchForm",className:"search-form",onSubmit:function(e){e.preventDefault(),t(i),c(i)},children:[Object(m.jsx)("input",{type:"text",value:i,onChange:function(e){return r(e.currentTarget.value)},name:"searchInput",id:"searchInput",className:"search-form__input",required:!0,minLength:"2",maxLength:"40",placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430"}),Object(m.jsx)("button",{type:"submit",className:"search-form__button",children:"Search"})]})};c(15);var b=function(e){var t=e.about;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"Actors: "}),t.Actors]}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"Plot: "}),t.Plot]}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"Awards: "}),t.Awards]}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"BoxOffice: "}),t.BoxOffice]}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"Country: "}),t.Country]}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"Director: "}),t.Director]}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"Genre: "}),t.Genre]}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"Language: "}),t.Language]}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"Writer: "}),t.Writer]})]})};c(16);var h=function(e){var t=e.film,c=e.handleClick,s=a.a.useState(!1),n=Object(l.a)(s,2),i=n[0],r=n[1],u=a.a.useState(null),j=Object(l.a)(u,2),o=j[0],h=j[1];return a.a.useEffect((function(){i?c(t.imdbID).then((function(e){h(e)})).catch((function(e){return console.log("Err: "+e)})):h(null)}),[i,t.imdbID,c]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("img",{className:"film_image",src:t.Poster,alt:"Poster ".concat(t.Title)}),Object(m.jsx)("h2",{className:"film__title",children:t.Title}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"Year: "}),t.Year]}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"Type: "}),t.Type]}),Object(m.jsxs)("p",{className:"film__desc",children:[Object(m.jsx)("span",{className:"film__subtitle",children:"imdbID: "}),t.imdbID]}),Object(m.jsx)("button",{className:"film__button",onClick:function(e){e.preventDefault(),r(!i)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),function(){if(o)return Object(m.jsx)(b,{handleClick:c,about:o})}()]})};c(17);var d=function(e){var t=e.setPage,c=e.page,s=e.handleSearchSubmit,a=e.request,n=e.lastPage;function i(e){var c=parseInt(e.target.innerHTML);t(c),s(a,c)}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("ul",{className:"page-list",children:[c>1&&Object(m.jsx)("li",{onClick:i,className:"page-item",children:1}),c-10>1&&Object(m.jsx)("li",{onClick:i,className:"page-item",children:c-10}),c-1>1&&Object(m.jsx)("li",{onClick:i,className:"page-item",children:c-1}),Object(m.jsx)("li",{className:"page-item",children:c}),c+1<n-1&&Object(m.jsx)("li",{onClick:i,className:"page-item",children:c+1}),c+10<n-1&&Object(m.jsx)("li",{onClick:i,className:"page-item",children:c+10}),c<n&&Object(m.jsx)("li",{onClick:i,className:"page-item",children:n})]})})};c(18);var f=function(e){var t=e.results,c=e.handleClick,s=e.setPage,a=e.page,n=e.handleSearchSubmit,i=e.request,l=e.lastPage;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"result-container",children:[a>1&&Object(m.jsx)("button",{className:"result-container__button",onClick:function(){a>1&&(n(i,a-1),s(a-1))},children:"\u2190"}),Object(m.jsx)("ul",{className:"results",children:t.map((function(e,t){return Object(m.jsx)("li",{className:"film-container",children:Object(m.jsx)(h,{film:e,handleClick:c})},t)}))}),l>a&&""!==i&&Object(m.jsx)("button",{className:"result-container__button",onClick:function(){l>a&&(n(i,a+1),s(a+1))},children:"\u2192"})]}),Object(m.jsx)(d,{setPage:s,page:a,handleSearchSubmit:n,request:i,lastPage:l})]})};var p=function(){var e=a.a.useState([]),t=Object(l.a)(e,2),c=t[0],n=t[1],i=a.a.useState(""),r=Object(l.a)(i,2),u=r[0],b=r[1],h=a.a.useState(1),d=Object(l.a)(h,2),p=d[0],O=d[1],_=a.a.useState(0),x=Object(l.a)(_,2),g=x[0],N=x[1],v=a.a.useState(!1),k=Object(l.a)(v,2),S=k[0],y=k[1],C=function(e,t){y(!0),j.getFilmsByTitle(e,t).then((function(e){e.Response&&(n(e.Search),N(Math.ceil(e.totalResults/10)))})).catch((function(e){return console.log("Error: "+e)}))};return Object(s.useEffect)((function(){S&&y(!1)}),[c]),Object(s.useEffect)((function(){O(1)}),[u]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(o,{handleSearchSubmit:C,setRequest:b}),S?Object(m.jsx)("div",{children:"Waiting"}):c&&c.length>0&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(f,{results:c,setPage:O,page:p,lastPage:g,request:u,handleClick:function(e){return j.getInfoAboutFilm(e)},handleSearchSubmit:C})})]})};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(p,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.7d76851e.chunk.js.map